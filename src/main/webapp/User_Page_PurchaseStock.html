<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>User_Home_Page</title>
		<meta name="viewport" content="wid=device-width, initial-scale=1" />
		<link rel="stylesheet" type="text/css" href="css/bootstrap.css" />
		<link rel="stylesheet" type="text/css" href="css/font-awesome.min.css" />
		<script src="https://kit.fontawesome.com/2ceae6c153.js" crossorigin="anonymous"></script>
		<link rel="stylesheet" type="text/css" href="css/style.css" />
		<script src="scripts.js"></script>
	</head>
	<body>
	<script>
	function buyStock(stock){
		var xhttp = new XMLHttpRequest();
    	xhttp.open("POST", "BuyServlet", true);
    	xhttp.setRequestHeader("Content-Type", "application/x-www-form-urlencoded");
    	xhttp.onload = function() {
    		document.getElementById("buySellMsg").innerHTML = this.responseText;
    	}
    	let c = getcookie("username");
    	
        xhttp.send("field=stockInfo&stockName=" + stock + "&quantity=" + document.myform.quantity.value + "&price=" + 100 + "&username=" + c);
		console.log(stock);
	}
	function sellStock(stock){
		var xhttp = new XMLHttpRequest();
    	xhttp.open("POST", "SellServlet", true);
    	xhttp.setRequestHeader("Content-Type", "application/x-www-form-urlencoded");
    	xhttp.onload = function() {
    		document.getElementById("buySellMsg").innerHTML = this.responseText;
    	}
    	let c = getcookie("username");
    	
        xhttp.send("field=stockInfo&stockName=" + stock + "&quantity=" + document.myform.quantity.value + "&price=" + 100 + "&username=" + c);
		console.log(stock);
	}
	
	function getcookie(name = '') {
	    let cookies = document.cookie;
	    let cookiestore = {};
	    
	    cookies = cookies.split(";");
	    
	    if (cookies[0] == "" && cookies[0][0] == undefined) {
	        return undefined;
	    }
	    
	    cookies.forEach(function(cookie) {
	        cookie = cookie.split(/=(.+)/);
	        if (cookie[0].substr(0, 1) == ' ') {
	            cookie[0] = cookie[0].substr(1);
	        }
	        cookiestore[cookie[0]] = cookie[1];
	    });
	    
	    return (name !== '' ? cookiestore[name] : cookiestore);
	}
	</script>
		
	
		<header class="mui-bar mui-bar-nav">
						<strong><div id="buySellMsg" style="font-size: 2em"></div></strong><br />
			

			<!-- Menu -->
			<nav class="ca-navbar-light navbar navbar-expand-lg navbar-light bg-light"
				aria-label="Fifth navbar example">
				<div class="container">
					<a class="navbar-brand" href="#">
						<i class="fa-solid fa-arrow-trend-up"></i>
						Trojan Stock</a>
					<button class="navbar-toggler" type="button" data-bs-toggle="collapse"
						data-bs-target="#navbarsExample05" aria-controls="navbarsExample05" aria-expanded="false"
						aria-label="Toggle navigation">
						<span class="navbar-toggler-icon"></span>
					</button>

					<div class="collapse navbar-collapse" id="navbarsExample05">
						<!-- boostrap 5 left margin's short is ms,right margin's short is me -->
						<ul class="navbar-nav ms-auto mb-2 mb-lg-0">
							<li class="nav-item">
								<a class="nav-link" aria-current="page" href="User_Page_MyStock.html">My Stocks</a>
							</li>
							<li class="nav-item active">
								<a class="nav-link" href="User_Page_PurchaseStock.html">Purchase Stock</a>
							</li>
							<li class="nav-item">
								<a class="nav-link" href="User_Page_Education_After_Login.html">Trojan Stock Education</a>
							</li>
						</ul>

					</div>
				</div>
			</nav>


			<!-- My Stock Section -->
			<section class="my_stock">
				<div class="tradeCon">
					<div class="card" style="width: 18rem; top: 2rem;">
						<img src="https://1000logos.net/wp-content/uploads/2016/10/Apple-Logo-768x432.png" class="card-img-top" alt="...">
						<div class="card-body">
						  <h5 class="card-title">Apple</h5>
						  <p class="card-text">Apple is a technology company based in California that sells consumer electronics, software, and services. It's known for its innovative design, user-friendly interface, privacy, and security.</p>
						</div>
						<ul class="list-group list-group-flush">
						  <li class="list-group-item">Current Price: $..</li>
						  <li class="list-group-item">24-Hour High: $..</li>
						  <li class="list-group-item">Opening Price: $..</li>
						</ul>
						<div class="card-body" id="AAPL">
						<form name="myform" method="GET">
							<div class="input-group mb-3">
								<input type="text" class="form-control" placeholder="Enter an Amount" aria-label="AmountBuy" name="quantity">
							  	<button class="btn btn-success" type="button" id="button-addon1" onclick="buyStock('AAPL');">Buy</button>
								<button class="btn btn-danger" type="button" id="button-addon1" onclick="sellStock('AAPL');">Sell</button>
							  </div>
							  </form>
						</div>
					  </div>


					  <div class="card" style="width: 18rem; top: 2rem;">
						<img src="https://1000logos.net/wp-content/uploads/2018/02/Logo-Tesla.jpg" class="card-img-top" alt="...">
						<div class="card-body">
						  <h5 class="card-title">Tesla</h5>
						  <p class="card-text">Tesla is an American company that designs, manufactures, and sells electric cars, energy storage systems, and solar products. It's known for its innovative technology and commitment to sustainable energy.</p>
						</div>
						<ul class="list-group list-group-flush">
						  <li class="list-group-item">Current Price: $..</li>
						  <li class="list-group-item">24-Hour High: $..</li>
						  <li class="list-group-item">Opening Price: $..</li>
						</ul>
						<div class="card-body">
							<div class="input-group mb-3">
								<input type="text" class="form-control" placeholder="Enter an Amount" aria-label="AmountBuy">
								<button class="btn btn-primary" type="button" id="button-addon1">Buy</button>
							  </div>
						</div>
					  </div>


					  <div class="card" style="width: 18rem; top: 2rem;">
						<img src="https://1000logos.net/wp-content/uploads/2016/10/Amazon-logo-meaning.jpg" class="card-img-top" alt="...">
						<div class="card-body">
						  <h5 class="card-title">Amazon</h5>
						  <p class="card-text">Amazon is a Seattle-based technology company that primarily operates as an online retailer. It offers a wide range of products, services, and fast delivery. It prioritizes customer satisfaction.</p>
						</div>
						<ul class="list-group list-group-flush">
						  <li class="list-group-item">Current Price: $..</li>
						  <li class="list-group-item">24-Hour High: $..</li>
						  <li class="list-group-item">Opening Price: $..</li>
						</ul>
						<div class="card-body">
							<div class="input-group mb-3">
								<input type="text" class="form-control" placeholder="Enter an Amount" aria-label="AmountBuy">
								<button class="btn btn-primary" type="button" id="button-addon1">Buy</button>
							  </div>
						</div>
					  </div>


					  <div class="card" style="width: 18rem; top: 2rem;">
						<img src="https://cdn-images-1.medium.com/max/1200/1*QxJBzpwHk44170qJ4bu7Ng.png"	 class="card-img-top" alt="...">
						<div class="card-body">
						  <h5 class="card-title">Microsoft</h5>
						  <p class="card-text">Microsoft is an American technology company that develops and sells computer software, electronics, and personal computers. It's known for its innovative technology and empowering mission.</p>
						</div>
						<ul class="list-group list-group-flush">
						  <li class="list-group-item">Current Price: $..</li>
						  <li class="list-group-item">24-Hour High: $..</li>
						  <li class="list-group-item">Opening Price: $..</li>
						</ul>
						<div class="card-body">
							<div class="input-group mb-3">
								<input type="text" class="form-control" placeholder="Enter an Amount" aria-label="AmountBuy">
								<button class="btn btn-primary" type="button" id="button-addon1" onclick="AAPLPrice();">Buy</button>
							  </div>
						</div>
					  </div>
					  
					  

					  
				</div>
				
			</section>
			<!-- footer -->

			<footer class="footer">
				<div class="container">
					<div class="row">
						
						<div class="col-md-6 col-lg-3 mb-4 mb-md-0">
							<h2 class="footer-heading">Contact Us</h2>
							<div class="block-23 mb-3">
								<ul>
									<li><span class="icon fa fa-map"></span><span class="text">Los Angeles, CA 90007</span></li>
									
									<li><i class="icon fa-solid fa-chalkboard-user"></i><span class="text">Mentor: Devanshu Gupta</span></li>
												
									<li><i class="icon fa-solid fa-user-group"></i><span class="text"> Group Number: 22 </span></li>
									<li><span class="icon fa fa-paper-plane"></span><span class="text">jwang977@usc.edu etc.  </span></li>
								</ul>
							</div>
						</div>
					</div>

					<div class="row mt-5">
						<div class="col-md-12 text-center">

							<p class="copyright">
								Copyright &copy;<script>
									document.write(new Date().getFullYear());
								</script> <i class="fa fa-heart" aria-hidden="true"></i> <a
									href="http://www.itsishu.cn" target="_blank">CSCI201</a>
							</p>
						</div>
					</div>
				</div>				
			</footer>

		</header>
	</body>
</html>